architecture: replicaset

auth:
  enabled: true
  existingSecret: mongodb-secret

# tls:
#   enabled: true
#   mTLS:
#     enabled: true
#   autoGenerated: true
#   mode: requireTLS
  # existingSecret: ""
  # pemChainIncluded: true
  # replicaset:
  #   existingSecrets:
  #     - "mongodb-0-external-tls"
  #     - "mongodb-1-external-tls"
  # arbiter:
  #   existingSecrets:
  #     - "mongodb-2-arbiter-tls"
  
automountServiceAccountToken: true

affinity:
  nodeAffinity:
    requiredDuringSchedulingIgnoredDuringExecution:
      nodeSelectorTerms:
        - matchExpressions:
            - key: workload
              operator: In
              values:
                - development

resources:
  requests:
    cpu: 1
    memory: 1024Mi
  limits:
    cpu: 2
    memory: 2048Mi

  arbiter:
    affinity:
      nodeAffinity:
        requiredDuringSchedulingIgnoredDuringExecution:
          nodeSelectorTerms:
            - matchExpressions:
                - key: workload
                  operator: In
                  values:
                    - development

  resources:
    requests:
      cpu: 250m
      memory: 256Mi
    limits:
      cpu: 500m
      memory: 512Mi

metrics:
  enabled: true
  serviceMonitor:
    enabled: true
  prometheusRule:
    enabled: true

# externalAccess:
#   enabled: true
#   service:
#     type: NodePort
#     nodePorts:
#       - 30001
#       - 30002
